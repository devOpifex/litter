/*! For license information please see selectize.bundle.js.LICENSE.txt */
(self.webpackChunklitter=self.webpackChunklitter||[]).push([[415],{38:(e,t,s)=>{"use strict";var i=s(684),r=(s(270),s(669),s(167)),_=s(145);class n extends r.Q{static properties={options:{type:Array},value:{type:Array},endpoint:{type:String}};constructor(){super(),this.endpoint="",this.options=[],this.value=[],this.timeout,this.lastQuery=""}_keyup(){clearTimeout(this.timeout),setTimeout((()=>{const e=this.shadowRoot.querySelector("input").value;this.shadowRoot.querySelector("ul").classList.remove("d-none");const t=this.shadowRoot.querySelectorAll("li");Array.from(t).forEach((t=>{t.dataset.value.includes(e)?t.style.display="block":t.style.display="none"})),""!=this.endpoint&&""!=e&&fetch(`${this.endpoint}&query=${encodeURIComponent(e)}`).then((e=>e.json())).then((e=>{const t=e.map((e=>e.value)),s=this.value.filter((e=>!t.includes(e)));let i=this.options.slice(0).filter((e=>s.includes(e.value)));e.push(...i),this.options=e})).catch((e=>console.error(e)))}),250)}_selectItem(e){this.value.push(e.target.dataset.value),this.value=[...new Set(this.value.slice(0))],this.shadowRoot.querySelector("input").value="",this.shadowRoot.querySelector("ul").classList.add("d-none")}_removeItem(e){this.value=this.value.filter((t=>t!=e.target.dataset.value))}updated(){this._send()}render(){const e=this.options.filter((e=>!this.value.includes(e))).map((e=>i.qy`<li @click=${this._selectItem} class="list-group-item" data-value="${e.value}">${e.label||e.value}</li>`)),t=this.options.filter((e=>this.value.includes(e.value))).map((e=>i.qy`<span data-value="${e.value}" @click=${this._removeItem} style=${(0,_.W)({height:"80%",paddingTop:"1.5%"})} class="badge bg-primary  m-1">${e.label||e.value}</span>`));return i.qy`<div class="d-flex">
      <div class="flex-shrink-1 position-relative">
        <input
          placeholder="Search..." class='form-control ${this.class}' @keyup=${this._keyup} />
        <ul style=${(0,_.W)({zIndex:9999,maxHeight:"15rem"})} class="list-group w-100 position-absolute d-none bg-light">${e}</ul>
      </div>
      <div class="flex-grow-1">${t}</div>
    </div>
      `}}customElements.define("litter-selectize",n)},167:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>LitInput});var lit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(684),_css_bs5__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(349),Shiny__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(270),Shiny__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(Shiny__WEBPACK_IMPORTED_MODULE_2__),jQuery__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(669),jQuery__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jQuery__WEBPACK_IMPORTED_MODULE_3__),_update_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(478),_update_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_update_js__WEBPACK_IMPORTED_MODULE_4__);class LitInput extends lit__WEBPACK_IMPORTED_MODULE_0__.WF{static styles=[(0,_css_bs5__WEBPACK_IMPORTED_MODULE_1__.n)(),lit__WEBPACK_IMPORTED_MODULE_0__.AH`.pointer {cursor: pointer;}`];static properties={value:{type:String},name:{type:String},class:{type:String},priority:{type:String},callback:{type:String},id:{type:String},send_on_render:{type:Boolean,converter:(e,t)=>"false"!=e.toLowerCase()},meta:{},rendered:{type:Boolean,state:!1},send_on:{type:String}};constructor(){super(),this.priority="deferred",this.class="",this.meta={},this.id=null,this.timeout=null,this.callback="",this.rendered=!1,this.send_on_render=!0,this.send_on="deferred"}_send(){if(this.callback){const cb=eval(this.callback);return void cb(this)}if(""==this.name)return;if(!this.rendered&&!this.send_on_render)return void(this.rendered=!0);this.rendered=!0;const data={props:this.meta,value:this.value};this.id&&(data.id=this.id);try{this._setInputValue(data)}catch(e){this._sendOnConnect(data)}}_sendThrottle(){clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this._send()}),250)}_setInputValue(e){Shiny.setInputValue(this.name+":litter.parse",e,{priority:this.priority})}_sendOnConnect(e){$(document).on("shiny:connected",(()=>{this._setInputValue(e)}))}}},478:()=>{Shiny.addCustomMessageHandler("litter-update-input",(e=>{let t=(e=>e.name?`[name='${e.name}']`:e.sel?sel:e.id?`#${id}`:null)(e);t&&Object.keys(e.props).forEach(((s,i)=>{let r=e.props[s];"object"==typeof r&&(r=JSON.stringify(r)),$(t).attr(s,r)}))}))},270:e=>{"use strict";e.exports=Shiny},669:e=>{"use strict";e.exports=jQuery},804:(e,t,s)=>{"use strict";s.d(t,{OA:()=>i,WL:()=>_,u$:()=>r});const i={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},r=e=>(...t)=>({_$litDirective$:e,values:t});class _{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,s){this._$Ct=e,this._$AM=t,this._$Ci=s}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},145:(e,t,s)=>{"use strict";s.d(t,{W:()=>a});var i=s(752),r=s(804);const _="important",n=" !"+_,a=(0,r.u$)(class extends r.WL{constructor(e){var t;if(super(e),e.type!==r.OA.ATTRIBUTE||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,s)=>{const i=e[s];return null==i?t:t+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(e,[t]){const{style:s}=e.element;if(void 0===this.ht){this.ht=new Set;for(const e in t)this.ht.add(e);return this.render(t)}this.ht.forEach((e=>{null==t[e]&&(this.ht.delete(e),e.includes("-")?s.removeProperty(e):s[e]="")}));for(const e in t){const i=t[e];if(null!=i){this.ht.add(e);const t="string"==typeof i&&i.endsWith(n);e.includes("-")||t?s.setProperty(e,t?i.slice(0,-11):i,t?_:""):s[e]=i}}return i.c0}})}},e=>{e.O(0,[866,455],(()=>(38,e(e.s=38)))),e.O()}]);